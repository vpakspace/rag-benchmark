Графовые базы данных и Knowledge Graphs: обзор технологий и эволюция

Автор: технический обзор, составленный для целей бенчмаркинга RAG-систем
Дата: февраль 2026 года

---

1. ВВЕДЕНИЕ В ГРАФОВЫЕ МОДЕЛИ ДАННЫХ

История графовых баз данных восходит к 1960-м годам, когда в рамках деятельности консорциума CODASYL (Conference on Data Systems Languages) была предложена сетевая модель данных. Эта модель, стандартизированная в 1969 году, представляла данные в виде записей, связанных указателями, что по своей сути является предшественником современных графовых структур. Система IDS (Integrated Data Store), разработанная Чарльзом Бахманом в General Electric, стала первой промышленной реализацией сетевой модели и в 1973 году принесла своему создателю премию Тьюринга.

Переломным моментом в истории баз данных стал 1970 год, когда Эдгар Кодд из исследовательского подразделения IBM опубликовал статью «A Relational Model of Data for Large Shared Data Banks». Реляционная модель, основанная на теории множеств и реляционной алгебре, предложила принципиально иной подход к хранению и запросу данных. На протяжении 1970-х и 1980-х годов реляционные СУБД — IBM DB2 (1983), Oracle (1979), Sybase (1984) — вытеснили сетевые и иерархические модели из большинства промышленных применений. Причины этого вытеснения были многофакторными: математическая строгость реляционной модели, гибкость языка SQL, независимость данных от физического представления.

Тем не менее реляционная модель имела принципиальные ограничения при работе с высококоннективными данными. Задачи, в которых сами связи между объектами несут смысловую нагрузку — социальные сети, маршрутизация, биологические взаимодействия, семантические отношения, — решались в рамках реляционной парадигмы неэффективно. Многочисленные операции JOIN при обходе глубоких связей приводили к экспоненциальному росту вычислительных затрат.

В 1990-е и 2000-е годы интерес к графовым подходам начал возрождаться по нескольким направлениям одновременно. С одной стороны, развитие объектно-ориентированного программирования стимулировало разработку объектных баз данных (ODBMS), которые поддерживали указатели между объектами — по сути, граф объектов. С другой стороны, рост Всемирной паутины поставил перед исследователями задачу семантической разметки веб-ресурсов, что привело к возникновению концепции семантического веба.

Критическим событием для графовых технологий стало 1999 года: Консорциум W3C опубликовал спецификацию RDF (Resource Description Framework) версии 1.0. RDF предложил универсальный способ описания ресурсов в вебе через триплеты вида «субъект — предикат — объект», тем самым заложив формальную основу для представления знаний в форме графа. Эта дата считается отправной точкой современной эпохи графовых баз данных и технологий знаний.

---

2. RDF И СЕМАНТИЧЕСКИЙ ВЕБ

Спецификация RDF 1.0, опубликованная W3C в 1999 году, стала результатом многолетних усилий по стандартизации способов описания метаданных ресурсов в интернете. RDF вводил простую, но мощную абстракцию: любое утверждение о мире может быть выражено в форме триплета (субъект, предикат, объект), где каждый элемент идентифицируется URI (Uniform Resource Identifier). Набор таких триплетов образует направленный помеченный граф, где субъекты и объекты — это вершины, а предикаты — рёбра.

Поворотным событием для всей области стало 2001 год: Тим Бернерс-Ли, Джеймс Хендлер и Ора Ласила опубликовали в журнале Scientific American статью «The Semantic Web», в которой сформулировали видение нового поколения Всемирной паутины. По их замыслу, семантический веб должен был дополнить существующий «человекочитаемый» веб машинопонятными данными, что позволило бы программным агентам автоматически обрабатывать информацию, рассредоточенную по множеству источников. Бернерс-Ли предложил многоуровневую архитектуру — «торт семантического веба» (Semantic Web layer cake), включающую XML, RDF, OWL и правила на вершине стека.

Следующим важным шагом в 2004 году стало принятие OWL (Web Ontology Language) в качестве рекомендации W3C. OWL — это язык для описания онтологий, то есть формальных спецификаций концептуализаций предметной области. В отличие от RDF, который просто описывает факты, OWL позволяет выражать сложные логические ограничения: классы, подклассы, эквивалентные классы, ограничения на мощность отношений, транзитивность и симметричность свойств. OWL основан на дескрипционных логиках (Description Logics), что обеспечивает формально определённую семантику и поддержку автоматического вывода (reasoning). Инструменты-рассуждатели, такие как Pellet, HermiT и FaCT++, способны автоматически выводить скрытые факты из явно заданных аксиом онтологии.

В 2008 году W3C стандартизировал SPARQL 1.0 (SPARQL Protocol and RDF Query Language) — первый стандартный язык запросов для RDF-данных. SPARQL — декларативный язык с синтаксисом, напоминающим SQL, но ориентированный на сопоставление графовых шаблонов. Основу языка составляет конструкция BGP (Basic Graph Pattern) — набор триплет-шаблонов с переменными, которые система сопоставляет с реальными данными в RDF-графе. В 2013 году была принята версия SPARQL 1.1, расширившая язык агрегатными функциями, подзапросами, операциями обновления данных (INSERT, DELETE) и федеративными запросами через конструкцию SERVICE.

Параллельно с развитием стандартов формировалась инфраструктура для хранения и запроса RDF-данных. Triple stores — специализированные базы данных для хранения RDF-триплетов — появились в начале 2000-х годов. Jena (открытая библиотека Apache, 2000), Sesame (2002, позднее переименованный в Eclipse RDF4J), Virtuoso (коммерческий продукт OpenLink Software), Stardog и Allegrograph — вот неполный список систем, сформировавших рынок RDF-хранилищ. К 2010-м годам крупнейшие из них научились обрабатывать миллиарды триплетов, однако оставались преимущественно академическим и корпоративным инструментом, не получив массового распространения у разработчиков.

Семантический веб в его первоначальном, «грандиозном» варианте так и не был реализован в полной мере. Барьерами стали сложность инструментов, высокий порог вхождения и отсутствие экономических стимулов для массовой разметки данных. Тем не менее технологии семантического веба — RDF, OWL, SPARQL — продолжают активно использоваться в специализированных областях: корпоративные онтологии, биомедицинские базы знаний, библиотечные каталоги, LOD (Linked Open Data) — и стали фундаментом для последующего развития Knowledge Graph технологий.

---

3. PROPERTY GRAPH МОДЕЛЬ

Пока академическое сообщество разрабатывало стандарты семантического веба, в промышленности формировался альтернативный подход к графовым данным — модель Property Graph (граф свойств). В отличие от RDF, где граф строится исключительно из триплетов с URI-идентификаторами, Property Graph модель допускает прямое прикрепление произвольных пар «ключ — значение» к узлам и рёбрам графа. Это существенно упрощает моделирование реальных сущностей: узел «Пользователь» может непосредственно содержать свойства имя, возраст, дата_регистрации, а ребро «ЗНАКОМЫ_С» — свойство дата_знакомства.

Краеугольным событием для этого направления стал 2007 год, когда шведская компания Neo Technology (основана Эмилем Эйфремом и Йоханом Синганом) выпустила первую версию Neo4j — первой в мире специализированной Property Graph СУБД промышленного уровня. Архитектура Neo4j изначально ориентирована на хранение и обход графов: данные хранятся не в таблицах, а в виде взаимосвязанных записей узлов и рёбер с прямыми указателями, что обеспечивает предсказуемую производительность операций обхода вне зависимости от размера графа — так называемый «index-free adjacency». Это принципиально отличает графовые СУБД от реляционных, где обход связей требует операции JOIN с её логарифмической или линейной зависимостью от размера таблиц.

В 2010-е годы экосистема Property Graph СУБД начала быстро расширяться. Фреймворк Apache TinkerPop, анонсированный примерно в 2010 году, поставил перед собой задачу стандартизации интерфейсов для работы с графовыми базами данных и предложил универсальный язык обхода графов Gremlin. TinkerPop стал де-факто стандартом в Java-экосистеме, и большинство промышленных графовых СУБД реализовали совместимость с ним. Titan, открытый в 2012 году компанией Aurelius и впоследствии перешедший под управление Linux Foundation как JanusGraph (2017), стал первой распределённой графовой СУБД с поддержкой горизонтального масштабирования через подключаемые хранилища — Apache Cassandra, Apache HBase, Google Cloud Bigtable.

В 2012 году на рынке появился OrientDB — пионер мультимодельных баз данных, объединивший в одной системе парадигмы документных, графовых и ключ-значение баз данных. OrientDB демонстрировал, что граница между NoSQL-парадигмами не абсолютна, и открыл направление мультимодельных СУБД, позднее занятое такими системами, как ArangoDB и Microsoft Azure Cosmos DB.

Принципиальные отличия модели Property Graph от RDF описываются по нескольким измерениям. Во-первых, узлы и рёбра могут иметь произвольные свойства без необходимости реифицировать (материализовывать) отношения в виде дополнительных узлов, как это требуется в чистом RDF. Во-вторых, Property Graph не предполагает строгой схемы данных: можно добавлять новые метки узлов и свойства на лету, без миграции схемы. В-третьих, идентификация узлов и рёбер осуществляется через внутренние идентификаторы, а не URI, что снижает сложность разработки, но ограничивает межсистемную интероперабельность. В-четвёртых, Property Graph не имеет встроенного механизма вывода знаний, тогда как RDF/OWL ориентированы на автоматический вывод через рассуждатели.

К 2020-м годам Neo4j стал лидером рынка графовых СУБД с крупнейшим сообществом разработчиков. По данным компании, к 2024 году реестр Neo4j Community Edition не ограничивал размер графа, что позволяло обрабатывать графы с сотнями миллионов узлов и рёбер на одном сервере. Enterprise-версия добавляла поддержку кластеризации, горячего резервирования и расширенного контроля доступа.

---

4. KNOWLEDGE GRAPHS

Понятие «Knowledge Graph» (граф знаний) вошло в широкий технологический дискурс в мае 2012 года, когда Google анонсировал одноимённую систему для обогащения результатов поиска. На момент запуска Google Knowledge Graph содержал около 570 миллионов сущностей и 18 миллиардов фактов о них. Принципиальная идея заключалась в том, что поисковик должен понимать не только слова в запросе, но и реальные сущности мира — людей, места, организации, события — и отношения между ними. Именно с этого момента термин «Knowledge Graph» приобрёл устойчивое значение в индустрии.

В основе Google Knowledge Graph лежал поглощённый компанией Freebase — открытая база структурированных данных, запущенная компанией Metaweb в 2006 году. В 2010 году Google приобрёл Metaweb, а в 2016 году закрыл Freebase, перенаправив его данные в Wikidata. Параллельно с Freebase развивались другие крупные базы знаний: DBpedia (с 2007 года, структурированные данные из Википедии), YAGO (Yet Another Great Ontology, проект ETH Zürich и Max Planck Institute, с 2007 года), WordNet (принципиально иная — лингвистическая — сеть семантических отношений, начало разработки — 1985 год в Принстоне).

В том же 2012 году Фонд Викимедиа запустил Wikidata — свободную коллаборативную базу знаний, призванную стать центральным хранилищем структурированных данных для всех проектов Wikimedia, включая Википедию. В отличие от Freebase, Wikidata изначально разрабатывалась как открытый проект с контролируемым вкладом сообщества. Модель данных Wikidata — это расширенная версия Property Graph с поддержкой квалификаторов (дополнительных атрибутов утверждений) и ссылок на источники, что позволяет выражать темпоральные и контекстуальные ограничения на факты. К 2025 году Wikidata содержала более 112 миллионов утверждений о более чем 110 миллионах элементов.

В 2015 году Amazon Web Services анонсировал Neptune — полностью управляемую облачную графовую базу данных. Neptune стала одной из первых коммерческих СУБД, официально поддерживающих обе основные парадигмы графовых данных: Property Graph с языком обхода Gremlin и RDF с языком запросов SPARQL. Это позволяло пользователям Neptune работать с одним хранилищем в двух парадигмах, хотя данные в них не смешивались. Полноценный запуск Neptune как общедоступного сервиса состоялся в 2018 году, и с тех пор он занял прочное место в экосистеме AWS как решение для задач, требующих работы с взаимосвязанными данными.

Корпоративные Knowledge Graphs получили широкое распространение в крупных технологических компаниях. Microsoft в 2016 году интегрировал Knowledge Graph в продукты Microsoft 365, создав так называемый Microsoft Graph — API-интерфейс для работы с данными о пользователях, документах, встречах и других объектах корпоративной среды. LinkedIn, приобретённый Microsoft в 2016 году, имеет собственный граф профессиональных связей с сотнями миллионов узлов. Airbnb использует Knowledge Graph для персонализации рекомендаций с 2018 года; Uber — для управления геопространственными данными и сетью поставщиков услуг.

---

5. ГРАФОВЫЕ СУБД: СРАВНИТЕЛЬНЫЙ АНАЛИЗ

К середине 2020-х годов рынок графовых баз данных превратился в многоголосый ансамбль конкурирующих решений с различными архитектурными подходами, ценовыми моделями и компромиссами между производительностью, масштабируемостью и функциональностью.

Neo4j (основана 2000, первый релиз 2007, Стокгольм/Сан-Матео) является безусловным лидером по распространённости и размеру сообщества. Архитектурно Neo4j реализует нативное хранение графов: каждый узел содержит прямой указатель на первое ребро своего списка смежности, каждое ребро — указатели на предыдущее и следующее рёбра в списках смежности обоих соединяемых узлов. Эта структура обеспечивает константное время доступа к локальному окружению узла. Neo4j поддерживает полные ACID-транзакции с использованием алгоритма MVCC (Multi-Version Concurrency Control). Язык запросов Cypher, ставший открытым стандартом через инициативу openCypher в 2015 году, обеспечивает декларативный стиль формулирования запросов с интуитивным ASCII-art синтаксисом для описания графовых паттернов. В 2024 году Neo4j Community Edition не имеет ограничений по размеру данных, а крупнейшие задокументированные производственные развёртывания содержат десятки миллиардов узлов и рёбер.

ArangoDB (основана 2012, Кёльн), являясь мультимодельной СУБД с открытым исходным кодом, поддерживает три парадигмы хранения данных в единой системе: документную (аналог MongoDB), графовую и ключ-значение. Все данные физически хранятся как JSON-документы, а граф выражается через атрибуты _from и _to в документах коллекции рёбер. Язык запросов AQL (ArangoDB Query Language) позволяет в одном запросе комбинировать обход графа с фильтрацией по свойствам документов и агрегацией. ArangoDB поддерживает кластерный режим с автоматическим шардированием и репликацией. Преимущество мультимодельного подхода состоит в снижении операционных накладных расходов: вместо поддержки нескольких специализированных систем организация может использовать одну СУБД для разнородных нагрузок.

Amazon Neptune (AWS, анонс 2015, GA 2018) — полностью управляемая графовая база данных, устраняющая операционные сложности развёртывания, масштабирования и обслуживания. Neptune хранит данные в SSD-хранилище с автоматической репликацией в трёх зонах доступности AWS, обеспечивая высокую отказоустойчивость. Сервис поддерживает два языка запросов — Gremlin для Property Graph и SPARQL для RDF — через единый движок хранения. Интеграция с другими сервисами AWS (S3, SageMaker, Glue, Lake Formation) упрощает построение сквозных аналитических пайплайнов. Недостатком является vendor lock-in и сложность переноса данных за пределы AWS. Цена Neptune существенно превышает стоимость самостоятельного развёртывания Neo4j Community Edition при небольших нагрузках.

Dgraph (основана Манишем Джейном в 2016 году, Сан-Франциско) представляет собой распределённую графовую СУБД, разработанную с нуля с расчётом на горизонтальное масштабирование. Ключевая особенность Dgraph — нативная поддержка GraphQL как языка схемы и API-интерфейса, что делает интеграцию с современными веб-приложениями весьма удобной. Внутреннее хранилище Dgraph основано на Badger — встраиваемой базе данных типа LSM-tree, разработанной командой Dgraph. Dgraph реализует собственный язык запросов DQL (Dgraph Query Language), вдохновлённый GraphQL, но расширенный для поддержки агрегатных функций и рекурсивных обходов. Архитектура Dgraph включает разделение ответственности между серверами данных (alpha-серверы) и серверами координации (zero-серверы), что обеспечивает масштабирование записи через горизонтальный шардинг предикатов.

TigerGraph (основана Ю Сюем в 2012 году, Редвуд-Сити) позиционирует себя как наиболее производительную аналитическую графовую СУБД для задач глубокого обхода связей в реальном времени. TigerGraph реализует параллельное исполнение запросов по принципу, аналогичному MapReduce: обход графа разбивается на волны, каждая из которых обрабатывается параллельно на всех узлах кластера. Язык запросов GSQL (Graph SQL) сочетает декларативный синтаксис с процедурными элементами, позволяя определять многошаговые алгоритмы обхода, аккумулировать результаты с помощью типизированных аккумуляторов и встраивать вычислительную логику непосредственно в запрос. TigerGraph заявляет о способности обрабатывать графы с десятками миллиардов вершин и рёбер при латентности запросов в миллисекунды.

---

6. ЯЗЫКИ ЗАПРОСОВ ДЛЯ ГРАФОВЫХ БАЗ ДАННЫХ

Разнообразие графовых парадигм и СУБД привело к формированию нескольких конкурирующих языков запросов, каждый из которых отражает специфические философские и архитектурные решения своих создателей.

Cypher, разработанный в Neo4j примерно в 2011–2012 годах, основан на идее декларативного описания графовых паттернов с помощью ASCII-art нотации. Узлы записываются в круглых скобках — (n:Person) — а рёбра — в квадратных скобках между двумя дефисами: -[r:KNOWS]->. Полный паттерн «найти всех друзей человека» выглядит как MATCH (p:Person)-[:KNOWS]->(friend) WHERE p.name = 'Алексей' RETURN friend. Декларативность Cypher означает, что пользователь описывает, что именно он хочет найти, а не как именно следует обходить граф — этим занимается планировщик запросов. В 2015 году Neo4j открыл спецификацию Cypher через инициативу openCypher, которую поддержали SAP HANA Graph, Redis Graph, Apache AGE и другие системы. Cypher в полной мере отвечает требованиям к стандартизации.

Gremlin, созданный в рамках проекта Apache TinkerPop примерно в 2009 году и вошедший в экосистему Apache в 2015 году, придерживается императивной парадигмы. В Gremlin пользователь явно описывает шаги обхода графа: g.V().has('name','Алексей').out('KNOWS').values('name'). Каждый шаг — это операция над потоком объектов-траверсеров (traversers), продвигающихся по графу. Императивный стиль Gremlin обеспечивает точный контроль над маршрутом обхода и хорошо подходит для сложных алгоритмических задач, однако делает запросы более многословными по сравнению с Cypher. Gremlin реализован как виртуальная машина обхода (Gremlin Machine), что позволяет транслировать его в внутренние представления конкретных СУБД.

SPARQL (произносится «спаркл»), стандартизированный W3C в 2008 году с последующим обновлением до версии 1.1 в 2013 году, является языком запросов исключительно для RDF-данных. SPARQL-запрос состоит из набора тройных шаблонов с переменными, которые система сопоставляет с триплетами в хранилище. Конструкция SELECT ?name WHERE { ?person rdf:type foaf:Person . ?person foaf:name ?name } вернёт имена всех персон в графе. SPARQL поддерживает сложные паттерны совпадений, включая необязательные паттерны (OPTIONAL), объединения (UNION), отрицание через NOT EXISTS, агрегацию, сортировку и ограничения. Федеративный SPARQL позволяет прозрачно выполнять запросы к нескольким удалённым SPARQL-эндпоинтам через конструкцию SERVICE — что реализует идею связанных открытых данных (LOD).

Наиболее амбициозным проектом в области стандартизации стал GQL (Graph Query Language), работа над которым в рамках ISO/IEC JTC 1/SC 32 началась в 2019 году. GQL задуман как первый международный стандарт языка запросов для графовых баз данных — аналог SQL для реляционных СУБД. В апреле 2024 года был опубликован стандарт ISO/IEC 39075:2024, определяющий GQL как декларативный язык для создания, изменения и запроса графовых баз данных модели Property Graph. Параллельно SQL/PGQ (SQL Property Graph Queries) — расширение SQL для работы с графами — было принято как часть стандарта SQL:2023. Принятие GQL означает переход отрасли от фрагментированного ландшафта проприетарных языков к унифицированным стандартам, что должно существенно снизить стоимость переноса приложений между различными графовыми СУБД.

---

7. KNOWLEDGE GRAPH EMBEDDINGS

Параллельно с развитием запросовых технологий в 2010-е годы сформировалось отдельное направление исследований — Knowledge Graph Embeddings (векторные представления графов знаний). Центральная задача этого направления состоит в отображении сущностей и отношений Knowledge Graph в плотные векторы относительно низкой размерности (как правило, от 50 до 1000 измерений) таким образом, чтобы структурные свойства графа сохранялись в геометрии векторного пространства.

Основополагающей работой стала статья Антуана Бордеса и соавторов «Translating Embeddings for Modeling Multi-relational Data», представленная на конференции NIPS в 2013 году. Предложенная модель TransE (Translating Embeddings) основана на простой интуиции: если триплет (h, r, t) является истинным (h — субъект, r — предикат, t — объект), то векторное представление объекта t должно быть приблизительно равно сумме векторного представления субъекта h и векторного представления отношения r, то есть h + r ≈ t. Несмотря на концептуальную простоту, TransE показала впечатляющие результаты на задачах предсказания связей (link prediction) в базах знаний Freebase и WordNet. Модель TransE хорошо работает с однозначными отношениями, но испытывает трудности с отношениями типа «один ко многим», «многие к одному» и «многие ко многим».

В 2014 году Яньцай Линь с соавторами предложил TransR — расширение TransE, преодолевающее его ключевое ограничение. Идея TransR заключается в том, что каждое отношение определяет собственное векторное пространство, и проекция сущностей в это пространство осуществляется через матрицу проекции, специфичную для данного отношения. Формально: h_r + r ≈ t_r, где h_r = M_r × h и t_r = M_r × t, а M_r — матрица проекции для отношения r. Это позволяет модели обрабатывать ситуации, когда одна и та же сущность ведёт себя по-разному в контексте разных отношений.

Качественный скачок в методологии KG Embeddings ознаменовала работа Чжицянь Суна с соавторами «RotatE: Knowledge Graph Embedding by Relational Rotation in Complex Space», опубликованная в 2019 году. RotatE представляет сущности как векторы в комплексном пространстве C^k, а каждое отношение — как поэлементарное вращение в этом пространстве: t = h ∘ r, где операция ∘ обозначает поэлементарное произведение Адамара, а каждый компонент r_i является единичным комплексным числом (|r_i| = 1). Это позволяет модели унифицированно обрабатывать три ключевых типа реляционных паттернов: симметрию (r(a,b) ⟹ r(b,a)), антисимметрию (r(a,b) ⟹ ¬r(b,a)) и инверсию (r1(a,b) ⟹ r2(b,a)), а также транзитивность. RotatE превзошла все предшествующие модели на стандартных бенчмарках FB15k-237 и WN18RR.

Практические применения KG Embeddings охватывают несколько важных задач. Предсказание связей (link prediction) — заполнение пропусков в базах знаний через вычисление правдоподобия отсутствующих триплетов — используется для автоматического дополнения Knowledge Graph. Типизация сущностей (entity typing) — отнесение сущностей к категориям через их векторные координаты. Выравнивание онтологий (ontology alignment) — сопоставление эквивалентных сущностей из разных Knowledge Graphs через близость их эмбеддингов. Рекомендательные системы используют KG Embeddings для учёта семантических связей между товарами и пользователями, что повышает качество рекомендаций за пределами коллаборативной фильтрации.

---

8. GRAPH NEURAL NETWORKS ДЛЯ KNOWLEDGE GRAPHS

С середины 2010-х годов глубокое обучение начало оказывать трансформирующее влияние на обработку Knowledge Graphs. Ключевым архитектурным примитивом для этого синтеза стали Graph Neural Networks (GNN) — класс нейронных сетей, способных обучаться на нерегулярных графовых структурах.

Первопроходческой работой для применения GNN к Knowledge Graphs стала статья Михаила Шлихткрулля с соавторами «Modeling Relational Data with Graph Convolutional Networks», опубликованная в 2017 году. Предложенная архитектура R-GCN (Relational Graph Convolutional Network) расширяет стандартные графовые свёрточные сети для работы с гетерогенными графами, содержащими несколько типов рёбер. В R-GCN обновление скрытого представления узла v на слое l вычисляется как взвешенная сумма преобразованных представлений соседей v по всем типам отношений r, плюс преобразование собственного представления узла:

h_v^(l+1) = σ( Σ_r Σ_{u ∈ N_r(v)} (1/c_{v,r}) W_r^(l) h_u^(l) + W_0^(l) h_v^(l) )

где N_r(v) — множество соседей узла v по отношению r, c_{v,r} — нормировочная константа, W_r^(l) и W_0^(l) — обучаемые матрицы весов. R-GCN применялась к задачам предсказания связей и классификации сущностей на стандартных бенчмарках Knowledge Graph, демонстрируя превосходство над трансляционными моделями в ряде постановок.

В 2019 году Шакти Вашиштх с соавторами предложил CompGCN (Composition-based Graph Convolutional Networks) — архитектуру, преодолевающую ключевое ограничение R-GCN: экспоненциальный рост числа параметров с количеством типов отношений. CompGCN вводит понятие реляционных операторов — функций ϕ(e_s, e_r) — для агрегации информации от пар (сущность, отношение) вместо раздельного обучения весов для каждого типа отношения. CompGCN совместно обучает представления сущностей и отношений в процессе графовых свёрток, что позволяет использовать знания о структуре графа для улучшения качества векторных представлений.

Парадигма передачи сообщений (message passing), лежащая в основе большинства современных GNN, включает три операции: агрегацию сообщений от соседей, обновление скрытого состояния узла и, опционально, передачу агрегированного представления выше по сети. Математически это соответствует схеме MPNN (Message Passing Neural Network), формализованной Гилмером с соавторами в 2017 году. Различные архитектурные решения GNN — GCN, GAT (Graph Attention Network), GraphSAGE, GIN (Graph Isomorphism Network) — отличаются в основном способом вычисления сообщений и агрегацией.

Известная проблема современных GNN для Knowledge Graphs — over-smoothing (избыточное сглаживание): при увеличении числа слоёв свёртки представления всех узлов начинают сходиться к общему вектору, теряя локальную различимость. Это ограничивает практически применимую глубину GNN несколькими слоями (обычно 2–4), что сдерживает способность модели захватывать информацию из дальних окрестностей узла. Для борьбы с over-smoothing предложены несколько техник: dropout на рёбрах, нормализация Pair Norm, архитектуры с резидуальными соединениями (analogous to ResNet).

---

9. GRAPHRAG И СОВРЕМЕННЫЕ ПОДХОДЫ (2024)

Если KG Embeddings и GNN развивались преимущественно в академическом контексте, то 2024 год ознаменовался волной практических инноваций на стыке Knowledge Graphs и больших языковых моделей, сформировавших направление, получившее название GraphRAG.

Исследовательская группа Microsoft Research в 2024 году опубликовала работу «From Local to Global: A Graph RAG Approach to Query-Focused Summarization», представившую систему GraphRAG. В отличие от классического RAG (Retrieval-Augmented Generation), который извлекает релевантные текстовые чанки и подаёт их в LLM, Microsoft GraphRAG строит Knowledge Graph поверх корпуса документов. Из этого графа затем извлекаются так называемые community summaries — иерархические краткие описания тематических кластеров сущностей и их связей. При ответе на глобальные вопросы, требующие обобщения по всему корпусу (в отличие от точечных вопросов о конкретных фактах), GraphRAG использует технику map-reduce: каждый community summary обрабатывается отдельным вызовом LLM, а частичные ответы затем агрегируются в итоговый ответ. Microsoft GraphRAG показал существенное превосходство над классическим RAG на задачах глобального обобщения и вопросов об отношениях между сущностями.

Другим значимым проектом 2024 года стал Graphiti — открытая библиотека для построения динамических темпоральных графов знаний из неструктурированных данных. Разработанная командой Zep AI, Graphiti решает задачу, которую не покрывают статические Knowledge Graphs: инкрементальное обновление графа по мере поступления новых данных с сохранением истории изменений. Каждое ребро в Graphiti несёт временны́е метки valid_from и valid_to, что позволяет отвечать на темпоральные запросы: «Кем работал X в 2023 году?» или «Как изменилась структура организации за последний год?». Graphiti интегрируется с Neo4j как бэкендом для хранения и использует гибридный поиск, комбинирующий семантические эмбеддинги, BM25-текстовый поиск и обход графа.

В том же 2024 году появился Cognee — проект, позиционирующий себя как «семантический слой памяти поверх LLM». Cognee автоматически извлекает граф знаний из документов, разговоров и произвольных текстовых данных и хранит его в гибридном хранилище, объединяющем векторную базу данных (LanceDB) и графовую (Neo4j). При ответе на вопросы Cognee выполняет «когнитивный» поиск, трассируя граф от точки входа (ближайших к запросу сущностей) по релевантным рёбрам к связанным фактам, что, по утверждению авторов, снижает галлюцинации и повышает точность ответов по сравнению с плоским векторным поиском.

Гибридные подходы RAG + Knowledge Graphs к 2024 году сформировались в несколько архитектурных паттернов. Первый — последовательный: сначала выполняется векторный поиск для нахождения релевантных чанков, затем извлечённые чанки используются для инициализации обхода Knowledge Graph, а результат обхода — структурированный контекст — передаётся в LLM вместе с текстовыми чанками. Второй — параллельный: векторный поиск и обход KG выполняются независимо, а результаты ранжируются и объединяются перед подачей в LLM. Третий — агентный: LLM сам решает, какой инструмент поиска использовать для каждого подвопроса, динамически переключаясь между векторным поиском и запросами к Knowledge Graph.

Ключевое преимущество гибридных подходов состоит в способности отвечать на вопросы, требующие многошагового вывода и интеграции разрозненных фактов. Классический векторный RAG ограничен локальным контекстом каждого чанка и не способен эффективно агрегировать факты из нескольких документов. Knowledge Graph, напротив, явно кодирует связи между сущностями, что делает многошаговые запросы («Найди все проекты компании X, руководителем которых является человек Y, и перечисли их контрагентов») принципиально более эффективными.

---

10. ПРИМЕНЕНИЯ KNOWLEDGE GRAPHS

Технологии Knowledge Graphs и графовых баз данных к середине 2020-х годов нашли применение в широчайшем спектре отраслей, от потребительского интернета до биомедицины и промышленного производства.

Рекомендательные системы являются одним из наиболее распространённых промышленных применений. Netflix использует граф знаний для моделирования отношений между фильмами, сериалами, жанрами, актёрами, режиссёрами и пользовательскими предпочтениями, что позволяет выходить за рамки коллаборативной фильтрации и объяснять рекомендации в терминах контентных признаков («вам понравилось X, потому что режиссёр Y также снял Z»). Spotify строит Knowledge Graph музыкальных объектов — исполнителей, альбомов, треков, жанров, настроений, тематических плейлистов, — используя его для построения радиостанций и еженедельных персонализированных подборок Discover Weekly. Alibaba и JD.com применяют товарные Knowledge Graphs для связывания продуктов через семантические отношения, что повышает точность поисковой выдачи и кросс-продажи.

Обнаружение мошенничества (fraud detection) — область, в которой графовые подходы дают особенно значимые результаты, труднодостижимые иными методами. Мошеннические схемы — будь то банковские операции, страховые претензии или создание фиктивных аккаунтов — часто проявляются не в изолированных аномалиях, а в характерных паттернах взаимосвязей: кольца транзакций, общие телефоны и адреса у разных аккаунтов, аномально плотные сети перекрёстных ссылок. PayPal, JPMorgan Chase, Capital One и другие крупные финансовые институты используют графовые СУБД (преимущественно Neo4j и TigerGraph) для поиска таких паттернов в реальном времени. По данным ряда компаний, внедрение графового анализа позволяет обнаруживать от 30 до 50% большего числа мошеннических схем по сравнению с традиционными методами машинного обучения на плоских данных.

Биомедицина и фармакология представляют собой область с исключительно богатой графовой структурой данных. Белковые взаимодействия, генные регуляторные сети, метаболические пути, лекарственные мишени, побочные эффекты препаратов — всё это естественно представляется в форме графа. Проект STRING (Search Tool for the Retrieval of Interacting Genes/Proteins) к 2024 году содержал данные о более чем 67 миллионах белковых взаимодействий для 14 094 организмов. Проект SPOKE (Scalable Precision Medicine Open Knowledge Engine) Калифорнийского университета в Сан-Франциско объединяет данные из более чем 20 биомедицинских баз знаний в единый граф с 27 миллионами узлов и 53 миллионами рёбер, покрывающий гены, белки, болезни, лекарства, биологические пути и клинические симптомы. Этот граф используется для задач drug repurposing (поиска новых показаний для существующих препаратов) и персонализированной медицины.

Корпоративное управление знаниями переживает трансформацию под влиянием Knowledge Graph технологий. Enterprise Knowledge Graph (EKG) — граф, охватывающий все значимые сущности организации: продукты, процессы, сотрудников, клиентов, нормативные документы, проекты, — становится центральным компонентом корпоративной информационной архитектуры. Siemens, Bosch, AstraZeneca и ряд других крупных корпораций публично сообщали о развёртывании EKG масштабом от сотен миллионов до нескольких миллиардов троек фактов. Интеграция EKG с большими языковыми моделями через GraphRAG-архитектуры открывает перспективу создания корпоративных AI-ассистентов, способных отвечать на сложные вопросы, требующие синтеза информации из разнородных корпоративных источников, при этом сохраняя прослеживаемость (traceability) ответов до конкретных фактов в графе.

Перспективы развития технологий Knowledge Graphs в период с 2025 по 2030 годы определяются несколькими тенденциями. Конвергенция LLM и Knowledge Graphs продолжится: LLM будут использоваться для автоматического построения и обогащения графов, а Knowledge Graphs — для заземления (grounding) ответов LLM в верифицированных фактах. Стандартизация языков запросов через GQL/ISO 39075 снизит стоимость переноса приложений и стимулирует конкуренцию между поставщиками. Темпоральные Knowledge Graphs, отслеживающие эволюцию знаний во времени, станут критически важными для приложений, работающих в динамически меняющихся предметных областях. Наконец, децентрализованные federated Knowledge Graphs, позволяющие выполнять запросы поверх распределённых, потенциально конфиденциальных данных без их централизации, откроют новые возможности для межорганизационного обмена знаниями при соблюдении требований приватности и суверенитета данных.

---

СПИСОК КЛЮЧЕВЫХ ТЕРМИНОВ

RDF (Resource Description Framework) — модель представления данных в виде триплетов (субъект, предикат, объект), стандарт W3C 1999 года.

OWL (Web Ontology Language) — язык описания онтологий на основе дескрипционных логик, рекомендация W3C 2004 года.

SPARQL — декларативный язык запросов для RDF-данных, стандарт W3C 2008 года (обновлён до версии 1.1 в 2013 году).

Property Graph — модель графовых данных, в которой узлы и рёбра могут иметь произвольные свойства (пары ключ-значение) и метки.

Knowledge Graph (граф знаний) — структурированное представление фактов о мире в форме семантической сети взаимосвязанных сущностей.

Cypher — декларативный язык запросов для Property Graph баз данных, разработанный Neo4j; открытый стандарт с 2015 года; ISO GQL принят в 2024 году.

Gremlin — императивный язык обхода графа, разработанный в рамках Apache TinkerPop.

GQL (Graph Query Language) — первый международный стандарт языка запросов для графовых баз данных, ISO/IEC 39075:2024.

TransE — трансляционная модель векторных представлений Knowledge Graph, предложенная Бордесом и соавторами в 2013 году.

RotatE — модель KG Embeddings на основе ротации в комплексном пространстве, предложенная Суном и соавторами в 2019 году.

R-GCN (Relational Graph Convolutional Network) — архитектура графовых нейронных сетей для реляционных данных, Шлихткрулль и соавторы, 2017.

GraphRAG — подход к Retrieval-Augmented Generation с использованием Knowledge Graph; Microsoft GraphRAG опубликован в 2024 году.

Graphiti — библиотека для построения динамических темпоральных Knowledge Graphs, Zep AI, 2024.

Cognee — семантический слой памяти поверх LLM, гибридное хранилище на основе LanceDB + Neo4j, 2024.

Over-smoothing — феномен деградации представлений GNN при увеличении числа слоёв свёртки, при котором векторы всех узлов сходятся к единому значению.

Message passing (передача сообщений) — базовая операционная парадигма GNN: итеративное агрегирование сообщений от соседей с обновлением скрытого состояния узла.

Wikidata — свободная коллаборативная база знаний Wikimedia Foundation, запущена в 2012 году, содержит более 110 миллионов элементов (2025).

Neo4j — первая в мире специализированная Property Graph СУБД, основана в 2000 году в Швеции, первый релиз в 2007 году.

---

ХРОНОЛОГИЧЕСКАЯ ШКАЛА КЛЮЧЕВЫХ СОБЫТИЙ

1960-е — Сетевая модель данных CODASYL, система IDS Чарльза Бахмана в General Electric.
1969 — Стандартизация сетевой модели данных CODASYL.
1970 — Публикация реляционной модели Эдгара Кодда в IBM.
1973 — Чарльз Бахман получает премию Тьюринга за разработку сетевой модели.
1979 — Oracle (тогда Relational Software Inc.) выпускает первую коммерческую реляционную СУБД.
1983 — IBM выпускает DB2.
1985 — Начало разработки WordNet в Принстонском университете.
1999 — W3C публикует спецификацию RDF 1.0.
2000 — Neo Technology основана в Швеции; начало разработки Neo4j.
2001 — Тим Бернерс-Ли, Джеймс Хендлер и Ора Ласила публикуют статью «The Semantic Web» в Scientific American.
2004 — W3C принимает OWL (Web Ontology Language) как рекомендацию.
2006 — Запуск Freebase компанией Metaweb.
2007 — Neo4j 1.0, первый официальный релиз. Запуск DBpedia и YAGO.
2008 — W3C стандартизирует SPARQL 1.0.
2009 — Первая версия Gremlin в рамках TinkerPop.
2010 — Google приобретает Metaweb (Freebase). Apache TinkerPop и Titan выходят в публичный доступ.
2012 — Google запускает Knowledge Graph (570 млн сущностей, 18 млрд фактов). Wikimedia Foundation запускает Wikidata. OrientDB первый релиз. Neo4j вводит язык Cypher. TigerGraph основана.
2013 — SPARQL 1.1 принят W3C. TransE (Bordes et al.) — первая крупная модель KG Embeddings.
2014 — TransR (Lin et al.) — KG Embeddings с раздельными пространствами для каждого отношения.
2015 — Amazon Web Services анонсирует Neptune. Neo4j открывает Cypher через инициативу openCypher.
2016 — Microsoft приобретает LinkedIn. Freebase закрыт, данные переданы в Wikidata.
2017 — R-GCN (Schlichtkrull et al.) — реляционные графовые свёрточные сети для KG. Apache TinkerPop переходит под управление Apache Software Foundation. JanusGraph отделяется от Titan.
2018 — Amazon Neptune выходит в общий доступ (GA).
2019 — RotatE (Sun et al.) — KG Embeddings в комплексном пространстве. CompGCN (Vashishth et al.). Начало работы ISO над стандартом GQL (ISO/IEC JTC 1/SC 32).
2021 — Wikidata превышает 100 миллионов элементов.
2023 — SQL:2023 включает SQL/PGQ (Property Graph Queries) как расширение стандарта SQL.
2024 — ISO/IEC 39075:2024 (GQL) принят как первый международный стандарт языка запросов для графовых баз данных. Microsoft публикует GraphRAG. Graphiti (Zep AI) выходит в открытый доступ. Cognee представлен как семантический слой памяти для LLM. Wikidata содержит более 112 миллионов элементов.
